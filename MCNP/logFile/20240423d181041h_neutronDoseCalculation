*****Load pre-defined HU conversion properties and MCNP cross sections from conversionCT2tissue.mat.Note: Modification of conversionCT2tissue.mat using generateVar_conversionCT2tissue.m.**********Properties from (scaled) HU loaded are: Minimum value: -1024 and Maximum value: 0.[Warning: No information on rescale slope and/or intercept provided in DICOM data. Calculation might crash...] 
Please use question dialog to decide how to convert to scaled HU.**********You decided not to use DICOM rescale slope and intercept.**********Properties from rescaled HU are: Minimum value: 0 and Maximum value: 1000.*****Material types are assigned using the following HU intervals...air: 0 to 50lung: 50 to 830softTissue: 830 to 1280bone: 1280 to 5000*****Segmentation via HU intervals led to zero voxels with lung tissue.
*****
Skin thickness has been set to: 1 mm.
*****
*****
In case you wish to simulate BNCT irradiation make sure the PTV is called PTV_BNCT.
*****
Checking for PTV...
*****
No PTV for BNCT detected.
*****
Segmentation process performed sucessfully.
*****Calculate density from CT data with density given in [g/cm^3]********Neutron spectrum load from machine file.
***
Gamma/photon spectrum found in neutron machine. Will be included in the simulation as primary particles.
***
*****
Tally type: TMESH3...
*****
<a href="matlab: opentoline('D:\GitHub\matRad_Lucas\MCNP\matRad_bixelDoseCalculatorMCNP.m',34,1)">34  </a>    parfor bixelCounter=1:size(runFileList,1)
if system_dependent('IsDebugMode')==1, dbquit; end
clear
load('BOXPHANTOM.mat')
matRadGUI
You are running matRad v2.10.1 "Blaise" (doseEnginesRobOpt-2eb7347b) with MATLAB 23.2
[Warning: The matRad_multScen function will be deprecated soon!\nCheck out the new Scenario Models in the scenarios folder.] 
Precomputing Contours for Display...
Progress: 50.00 %100.00 %
[Warning: The matRad_multScen function will be deprecated soon!\nCheck out the new Scenario Models in the scenarios folder.] 
matRad: Generating stf struct...
[Warning: Could not find HLUT  in hlutLibrary folder. matRad default HLUT loaded] 
Progress: 100.00 %
Dose influence matrix calculation using  'SVD Pencil Beam' Dose Engine...
Dose grid has dimensions 96x96x96
Adjusting structures for overlap... Done!
Resampling structure set... Done!
Adjusting structures for overlap... Done!
[Warning: Could not find HLUT  in hlutLibrary folder. matRad default HLUT loaded] 
[Warning: Kernel Cut-Off 'Inf mm' larger than machine data range of '179.500000 mm'. Using '179.500000 mm'!] 
matRad: calculate radiological depth cube... [Warning: ray does not hit patient. Trying to fix afterwards...] 
done.
Progress: 0.10 %	SSD = 876 mm ...
	Uniform primary photon fluence -> pre-compute kernel convolution...
Progress: 4.00 %32.00 %80.00 %100.00 %
Dose calculation finished in 4.66951 seconds!
[Warning: The matRad_multScen function will be deprecated soon!\nCheck out the new Scenario Models in the scenarios folder.] 
Adjusting structures for overlap... Done!
Resampling structure set... Done!
Estimating initial weights... chosen uniform weight of 2.342869!
Using standard MU bounds of [0,Inf]!

Optimzation initiating...
Press q to terminate the optimization...

******************************************************************************
This program contains Ipopt, a library for large-scale nonlinear optimization.
 Ipopt is released as open source code under the Eclipse Public License (EPL).
         For more information visit http://projects.coin-or.org/Ipopt
******************************************************************************

This is Ipopt version trunk, running with linear solver ma57.

Number of nonzeros in equality constraint Jacobian...:        0
Number of nonzeros in inequality constraint Jacobian.:        0
Number of nonzeros in Lagrangian Hessian.............:        0

Total number of variables............................:       25
                     variables with only lower bounds:       25
                variables with lower and upper bounds:        0
                     variables with only upper bounds:        0
Total number of equality constraints.................:        0
Total number of inequality constraints...............:        0
        inequality constraints with only lower bounds:        0
   inequality constraints with lower and upper bounds:        0
        inequality constraints with only upper bounds:        0

iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
   0  4.4092637e+02 0.00e+00 6.48e+01   0.0 0.00e+00    -  0.00e+00 0.00e+00   0
   1  4.1222461e+02 0.00e+00 2.42e+02  -5.6 4.61e+01    -  1.00e+00 6.28e-03f  4
   2  3.7148398e+02 0.00e+00 1.50e+02   0.1 9.50e-02    -  9.78e-01 1.00e+00f  1
   3  1.5140385e+02 0.00e+00 1.42e+02  -0.9 1.13e+00    -  1.00e+00 1.00e+00f  1
   4  8.7974812e+01 0.00e+00 1.05e+02  -2.6 7.33e-01    -  1.00e+00 1.00e+00f  1
   5  7.6680803e+01 0.00e+00 4.14e+00  -3.4 2.71e-01    -  1.00e+00 9.62e-01f  1
   6  7.6650191e+01 0.00e+00 3.91e+00  -4.2 1.95e-02    -  1.00e+00 2.00e-01f  1
   7  7.6410453e+01 0.00e+00 2.17e+00  -4.8 7.33e-02    -  1.00e+00 5.57e-01f  1
   8  7.6129987e+01 0.00e+00 1.12e+00  -2.0 8.92e-02    -  1.00e+00 9.95e-01f  1
   9  7.6104392e+01 0.00e+00 4.77e-01  -3.3 2.95e-02    -  1.00e+00 5.74e-01f  1
iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
  10  7.6097151e+01 0.00e+00 3.79e-01  -4.0 1.38e-02    -  1.00e+00 5.15e-01f  1
  11  7.6093733e+01 0.00e+00 3.69e-01  -5.9 7.21e-03    -  1.00e+00 4.71e-01f  1
  12  7.6090931e+01 0.00e+00 4.30e-01  -6.6 9.31e-03    -  1.00e+00 4.80e-01f  1
  13  7.6090380e+01 0.00e+00 3.94e-01  -7.3 2.23e-03    -  1.00e+00 3.24e-01f  1
  14  7.6089642e+01 0.00e+00 3.59e-01 -11.0 3.31e-03    -  8.84e-01 3.57e-01f  1

Number of Iterations....: 14

                                   (scaled)                 (unscaled)
Objective...............:   7.6089641671892394e+01    7.6089641671892394e+01
Dual infeasibility......:   3.5908837181741243e-01    3.5908837181741243e-01
Constraint violation....:   0.0000000000000000e+00    0.0000000000000000e+00
Complementarity.........:   1.0702932665743149e-05    1.0702932665743149e-05
Overall NLP error.......:   3.5908837181741243e-01    3.5908837181741243e-01


Number of objective function evaluations             = 22
Number of objective gradient evaluations             = 15
Number of equality constraint evaluations            = 0
Number of inequality constraint evaluations          = 0
Number of equality constraint Jacobian evaluations   = 0
Number of inequality constraint Jacobian evaluations = 0
Number of Lagrangian Hessian evaluations             = 0
Total CPU secs in IPOPT (w/o function evaluations)   =      0.749
Total CPU secs in NLP function evaluations           =      0.175

EXIT: Solved To Acceptable Level.
clear
load('neutronPatient_submGlTumor.mat')
load('PROSTATE.mat')
matRadGUI
[Warning: The matRad_multScen function will be deprecated soon!\nCheck out the new Scenario Models in the scenarios folder.] 
Precomputing Contours for Display...
Progress: 10.00 %20.00 %30.00 %40.00 %50.00 %60.00 %70.00 %80.00 %90.00 %100.00 %
[Warning: The matRad_multScen function will be deprecated soon!\nCheck out the new Scenario Models in the scenarios folder.] 
{Error using <a href="matlab:matlab.internal.language.introspective.errorDocCallback('matRad_Widget/showError')" style="font-weight:bold">matRad_Widget/showError</a>
Could not export data.  Reason: Method 'update' in class 'matRad_exportWidget' conflicts with the sealed method in superclass 'matRad_Widget'. Overriding a sealed method is not supported.

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('matRad_WorkflowWidget/btn_export_Callback', 'matRad_WorkflowWidget.m', 753)" style="font-weight:bold">matRad_WorkflowWidget/btn_export_Callback</a> (<a href="matlab: opentoline('matRad_WorkflowWidget.m',753,0)">line 753</a>)

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('matRad_WorkflowWidget>@(hObject,eventdata)btn_export_Callback(this,hObject,eventdata)', 'matRad_WorkflowWidget.m', 202)" style="font-weight:bold">matRad_WorkflowWidget>@(hObject,eventdata)btn_export_Callback(this,hObject,eventdata)</a> (<a href="matlab: opentoline('matRad_WorkflowWidget.m',202,0)">line 202</a>)
} 
Error while evaluating UIControl Callback.

matRad: Generating stf struct...
[Warning: Could not find HLUT Philips-AcQSimCT-ConvolutionKernel-000000_photons.hlut in hlutLibrary folder. matRad default HLUT loaded] 
Progress: 100.00 %
Dose influence matrix calculation using  'SVD Pencil Beam' Dose Engine...
Dose grid has dimensions 110x110x54
Adjusting structures for overlap... Done!
Resampling structure set... [Warning: Resizing the cst to the dose grid created an empty structure prostate_bed in scenario 1 (cst{5,4}{1})!] 
Done!
Adjusting structures for overlap... Done!
[Warning: Could not find HLUT Philips-AcQSimCT-ConvolutionKernel-000000_photons.hlut in hlutLibrary folder. matRad default HLUT loaded] 
[Warning: Kernel Cut-Off 'Inf mm' larger than machine data range of '179.500000 mm'. Using '179.500000 mm'!] 
matRad: calculate radiological depth cube... done.
Progress: 0.10 %	SSD = 869 mm ...
	Uniform primary photon fluence -> pre-compute kernel convolution...
Progress: 4.00 %52.00 %96.00 %100.00 %
Dose calculation finished in 2.54765 seconds!
Adjusting structures for overlap... Done!
Resampling structure set... [Warning: Resizing the cst to the dose grid created an empty structure prostate_bed in scenario 1 (cst{5,4}{1})!] 
Done!
Estimating initial weights... chosen uniform weight of 2.815912!
Using standard MU bounds of [0,Inf]!

Optimzation initiating...
Press q to terminate the optimization...

******************************************************************************
This program contains Ipopt, a library for large-scale nonlinear optimization.
 Ipopt is released as open source code under the Eclipse Public License (EPL).
         For more information visit http://projects.coin-or.org/Ipopt
******************************************************************************

This is Ipopt version trunk, running with linear solver ma57.

Number of nonzeros in equality constraint Jacobian...:        0
Number of nonzeros in inequality constraint Jacobian.:        0
Number of nonzeros in Lagrangian Hessian.............:        0

Total number of variables............................:       25
                     variables with only lower bounds:       25
                variables with lower and upper bounds:        0
                     variables with only upper bounds:        0
Total number of equality constraints.................:        0
Total number of inequality constraints...............:        0
        inequality constraints with only lower bounds:        0
   inequality constraints with lower and upper bounds:        0
        inequality constraints with only upper bounds:        0

iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
   0  8.0982604e+02 0.00e+00 9.90e+01   0.0 0.00e+00    -  0.00e+00 0.00e+00   0
   1  6.7490972e+02 0.00e+00 1.33e+02  -5.6 7.38e+01    -  1.00e+00 1.89e-02f  2
   2  4.2822646e+02 0.00e+00 2.55e+01   0.7 6.29e-01    -  7.58e-01 1.00e+00f  1
   3  3.9984463e+02 0.00e+00 1.36e+01  -0.9 1.93e-01    -  9.87e-01 1.00e+00f  1
   4  3.8178135e+02 0.00e+00 5.58e+00  -2.3 2.93e-01    -  1.00e+00 1.00e+00f  1
   5  3.7428357e+02 0.00e+00 2.28e+00  -3.6 1.78e-01    -  1.00e+00 1.00e+00f  1
   6  3.6373025e+02 0.00e+00 4.12e+00  -5.0 1.94e-01    -  1.00e+00 1.00e+00f  1
   7  3.4182026e+02 0.00e+00 6.92e+00  -6.2 4.02e-01    -  1.00e+00 1.00e+00f  1
   8  3.3385640e+02 0.00e+00 2.32e+01  -7.0 7.99e-01    -  1.00e+00 1.00e+00f  1
   9  3.1074212e+02 0.00e+00 8.84e+00  -5.7 2.65e-01    -  1.00e+00 1.00e+00f  1
iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
  10  3.0001124e+02 0.00e+00 6.79e+00  -6.8 2.26e-01    -  1.00e+00 1.00e+00f  1
  11  2.8727532e+02 0.00e+00 5.92e+00  -7.9 6.24e-01    -  1.00e+00 1.00e+00f  1
  12  2.8566993e+02 0.00e+00 4.67e+00  -9.5 2.01e-01    -  1.00e+00 5.00e-01f  2
  13  2.8439277e+02 0.00e+00 1.17e+00 -10.2 9.11e-02    -  1.00e+00 1.00e+00f  1
  14  2.8407539e+02 0.00e+00 4.74e-01 -11.0 9.05e-02    -  1.00e+00 1.00e+00f  1
  15  2.8401010e+02 0.00e+00 4.17e-01 -11.0 3.04e-02    -  1.00e+00 1.00e+00f  1
  16  2.8395427e+02 0.00e+00 4.30e-01 -11.0 4.65e-02    -  1.00e+00 1.00e+00f  1
  17  2.8392218e+02 0.00e+00 4.67e-01 -11.0 4.27e-02    -  1.00e+00 1.00e+00f  1
  18  2.8390581e+02 0.00e+00 1.45e-01 -11.0 8.03e-03    -  1.00e+00 1.00e+00f  1
  19  2.8390130e+02 0.00e+00 9.48e-02 -11.0 5.55e-03    -  1.00e+00 1.00e+00f  1
iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
  20  2.8389751e+02 0.00e+00 1.43e-01 -11.0 4.71e-03    -  1.00e+00 1.00e+00f  1
  21  2.8388560e+02 0.00e+00 3.04e-01 -11.0 1.80e-02    -  1.00e+00 1.00e+00f  1
  22  2.8386049e+02 0.00e+00 6.04e-01 -11.0 5.10e-02    -  1.00e+00 1.00e+00f  1

Number of Iterations....: 22

                                   (scaled)                 (unscaled)
Objective...............:   7.0045980517042381e+01    2.8386049178385485e+02
Dual infeasibility......:   6.0447583205571453e-01    2.4496310236822576e+00
Constraint violation....:   0.0000000000000000e+00    0.0000000000000000e+00
Complementarity.........:   9.9999999165443741e-12    4.0524879132188798e-11
Overall NLP error.......:   6.0447583205571453e-01    2.4496310236822576e+00


Number of objective function evaluations             = 33
Number of objective gradient evaluations             = 23
Number of equality constraint evaluations            = 0
Number of inequality constraint evaluations          = 0
Number of equality constraint Jacobian evaluations   = 0
Number of inequality constraint Jacobian evaluations = 0
Number of Lagrangian Hessian evaluations             = 0
Total CPU secs in IPOPT (w/o function evaluations)   =      0.752
Total CPU secs in NLP function evaluations           =      0.257

EXIT: Solved To Acceptable Level.
IdleTimeout has been reached.
Parallel pool using the 'Processes' profile is shutting down.
[Warning: The matRad_multScen function will be deprecated soon!\nCheck out the new Scenario Models in the scenarios folder.] 
[Warning: Bixel width does not match] 
matRad: Generating stf struct...
[Warning: Could not find HLUT Philips-AcQSimCT-ConvolutionKernel-000000_photons.hlut in hlutLibrary folder. matRad default HLUT loaded] 
Progress: 100.00 %
Dose influence matrix calculation using  'SVD Pencil Beam' Dose Engine...
Dose grid has dimensions 110x110x54
Adjusting structures for overlap... Done!
Resampling structure set... [Warning: Resizing the cst to the dose grid created an empty structure prostate_bed in scenario 1 (cst{5,4}{1})!] 
Done!
Adjusting structures for overlap... Done!
[Warning: Could not find HLUT Philips-AcQSimCT-ConvolutionKernel-000000_photons.hlut in hlutLibrary folder. matRad default HLUT loaded] 
[Warning: Kernel Cut-Off 'Inf mm' larger than machine data range of '179.500000 mm'. Using '179.500000 mm'!] 
matRad: calculate radiological depth cube... [Warning: ray does not hit patient. Trying to fix afterwards...] 
done.
Progress: 0.10 %	SSD = 869 mm ...
	Uniform primary photon fluence -> pre-compute kernel convolution...
Progress: 4.55 %54.55 %100.00 %
Dose calculation finished in 4.06193 seconds!
Adjusting structures for overlap... Done!
Resampling structure set... [Warning: Resizing the cst to the dose grid created an empty structure prostate_bed in scenario 1 (cst{5,4}{1})!] 
Done!
Estimating initial weights... chosen uniform weight of 2.707165!
Using standard MU bounds of [0,Inf]!

Optimzation initiating...
Press q to terminate the optimization...

******************************************************************************
This program contains Ipopt, a library for large-scale nonlinear optimization.
 Ipopt is released as open source code under the Eclipse Public License (EPL).
         For more information visit http://projects.coin-or.org/Ipopt
******************************************************************************

This is Ipopt version trunk, running with linear solver ma57.

Number of nonzeros in equality constraint Jacobian...:        0
Number of nonzeros in inequality constraint Jacobian.:        0
Number of nonzeros in Lagrangian Hessian.............:        0

Total number of variables............................:       22
                     variables with only lower bounds:       22
                variables with lower and upper bounds:        0
                     variables with only upper bounds:        0
Total number of equality constraints.................:        0
Total number of inequality constraints...............:        0
        inequality constraints with only lower bounds:        0
   inequality constraints with lower and upper bounds:        0
        inequality constraints with only upper bounds:        0

iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
   0  9.1542206e+02 0.00e+00 9.90e+01   0.0 0.00e+00    -  0.00e+00 0.00e+00   0
   1  6.2087451e+02 0.00e+00 5.50e+01  -5.6 7.30e+01    -  1.00e+00 9.18e-03f  3
   2  5.9029904e+02 0.00e+00 7.42e+00  -5.3 1.27e-01    -  9.32e-01 1.00e+00f  1
   3  5.6950609e+02 0.00e+00 7.19e+00  -1.6 7.78e-02    -  9.98e-01 1.00e+00f  1
   4  5.2811792e+02 0.00e+00 1.77e+01  -3.4 2.40e-01    -  1.00e+00 1.00e+00f  1
   5  4.9016210e+02 0.00e+00 1.51e+01  -5.0 2.99e-01    -  1.00e+00 1.00e+00f  1
   6  4.5467466e+02 0.00e+00 6.10e+00  -6.2 4.30e-01    -  1.00e+00 1.00e+00f  1
   7  4.1814600e+02 0.00e+00 6.70e+00  -6.1 6.75e-01    -  1.00e+00 1.00e+00f  1
   8  3.9699760e+02 0.00e+00 9.84e+00  -7.3 5.21e-01    -  1.00e+00 1.00e+00f  1
   9  3.8308258e+02 0.00e+00 1.81e+00  -8.4 7.90e-01    -  1.00e+00 5.24e-01f  1
iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
  10  3.8293166e+02 0.00e+00 1.78e+00  -9.5 3.47e-01    -  1.00e+00 1.19e-02f  1
  11  3.8285696e+02 0.00e+00 1.77e+00 -10.2 2.59e-01    -  1.00e+00 3.84e-03f  1
  12  3.6443477e+02 0.00e+00 1.63e+00 -11.0 4.67e-01    -  1.00e+00 1.00e+00f  1
  13  3.5749694e+02 0.00e+00 3.93e+00  -7.5 2.66e-01    -  7.28e-01 1.00e+00f  1
  14  3.5091433e+02 0.00e+00 1.28e+00  -5.7 4.08e-01    -  2.69e-03 1.00e+00f  1
  15  3.4430253e+02 0.00e+00 1.36e+00  -5.7 3.65e-01    -  1.79e-03 1.00e+00f  1
  16  3.4107703e+02 0.00e+00 8.95e+00  -6.3 1.36e+00    -  1.00e+00 7.47e-01f  1
  17  3.3734904e+02 0.00e+00 2.08e+00  -6.8 2.48e-01    -  1.00e+00 1.00e+00f  1
  18  3.3710695e+02 0.00e+00 4.66e-01  -7.8 3.27e-02    -  1.00e+00 1.00e+00f  1
  19  3.3698981e+02 0.00e+00 2.84e-01  -9.0 3.67e-02    -  1.00e+00 1.00e+00f  1
iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
  20  3.3685445e+02 0.00e+00 5.05e-01  -9.9 3.48e-02    -  1.00e+00 1.00e+00f  1
  21  3.3649247e+02 0.00e+00 5.08e-01 -10.4 7.96e-02    -  1.00e+00 1.00e+00f  1
  22  3.3630129e+02 0.00e+00 1.68e+00 -10.2 2.94e-01    -  1.00e+00 1.00e+00f  1
  23  3.3520172e+02 0.00e+00 1.11e+00 -11.0 1.17e-01    -  1.00e+00 1.00e+00f  1
  24  3.3393233e+02 0.00e+00 7.10e-01 -11.0 9.49e-02    -  1.00e+00 1.00e+00f  1
  25  3.3234425e+02 0.00e+00 6.52e-01 -11.0 1.75e-01    -  1.00e+00 1.00e+00f  1
  26  3.3233624e+02 0.00e+00 5.05e+00 -11.0 5.35e-01    -  1.00e+00 2.50e-01f  3
  27  3.3136257e+02 0.00e+00 7.44e-01 -11.0 7.89e-02    -  1.00e+00 1.00e+00f  1
  28  3.3113310e+02 0.00e+00 7.49e-01 -11.0 3.91e-02    -  1.00e+00 1.00e+00f  1
  29  3.3089296e+02 0.00e+00 1.04e+00 -11.0 6.05e-02    -  1.00e+00 1.00e+00f  1
iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
  30  3.3047709e+02 0.00e+00 1.54e+00 -11.0 1.22e-01    -  1.00e+00 1.00e+00f  1
  31  3.2992568e+02 0.00e+00 1.32e+00 -11.0 2.46e-01    -  1.00e+00 1.00e+00f  1
  32  3.2973192e+02 0.00e+00 1.32e+00 -11.0 3.33e-01    -  1.00e+00 2.76e-01f  1
  33  3.2972575e+02 0.00e+00 1.34e+00 -11.0 2.02e+00    -  1.00e+00 8.61e-04f  1
  34  3.2972572e+02 0.00e+00 1.34e+00 -11.0 7.39e-01    -  1.00e+00 1.25e-05f  1
  35  3.2963362e+02 0.00e+00 1.14e+00  -9.6 1.41e-01    -  1.00e+00 1.30e-01f  1
  36  3.2916111e+02 0.00e+00 1.73e-01 -10.8 1.75e-01    -  1.00e+00 1.00e+00f  1
  37  3.2910814e+02 0.00e+00 1.67e-01 -11.0 1.42e-02    -  1.00e+00 1.00e+00f  1
  38  3.2905572e+02 0.00e+00 2.37e-01 -11.0 5.50e-02    -  1.00e+00 3.36e-01f  1
  39  3.2905522e+02 0.00e+00 2.38e-01 -11.0 1.15e-01    -  1.00e+00 1.61e-03f  1
iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
  40  3.2905521e+02 0.00e+00 2.38e-01 -11.0 7.98e-02    -  1.00e+00 2.32e-05f  1
  41  3.2895857e+02 0.00e+00 1.13e+00  -9.9 7.80e-02    -  1.00e+00 6.66e-01f  1
  42  3.2878050e+02 0.00e+00 5.78e-01 -10.8 8.80e-02    -  1.00e+00 1.00e+00f  1
  43  3.2877473e+02 0.00e+00 5.24e-01 -11.0 4.56e-02    -  1.00e+00 7.98e-02f  1
  44  3.2877467e+02 0.00e+00 5.24e-01 -11.0 4.95e-02    -  1.00e+00 7.22e-04f  1
  45  3.2877466e+02 0.00e+00 5.23e-01 -11.0 1.06e-02    -  1.00e+00 2.77e-04f  1
  46  3.2875292e+02 0.00e+00 1.58e-01 -11.0 1.28e-02    -  1.00e+00 1.00e+00f  1
  47  3.2875066e+02 0.00e+00 1.72e-01 -11.0 2.11e-03    -  1.00e+00 1.00e+00f  1

Number of Iterations....: 47

                                   (scaled)                 (unscaled)
Objective...............:   3.0351742060321339e+01    3.2875065711892046e+02
Dual infeasibility......:   1.7216278100382806e-01    1.8647571290618057e+00
Constraint violation....:   0.0000000000000000e+00    0.0000000000000000e+00
Complementarity.........:   1.0036239114479889e-11    1.0870612294116684e-10
Overall NLP error.......:   1.7216278100382806e-01    1.8647571290618057e+00


Number of objective function evaluations             = 60
Number of objective gradient evaluations             = 48
Number of equality constraint evaluations            = 0
Number of inequality constraint evaluations          = 0
Number of equality constraint Jacobian evaluations   = 0
Number of inequality constraint Jacobian evaluations = 0
Number of Lagrangian Hessian evaluations             = 0
Total CPU secs in IPOPT (w/o function evaluations)   =      1.159
Total CPU secs in NLP function evaluations           =      0.492

EXIT: Solved To Acceptable Level.
[Warning: The matRad_multScen function will be deprecated soon!\nCheck out the new Scenario Models in the scenarios folder.] 
matRad: Generating stf struct...
[Warning: Could not find HLUT Philips-AcQSimCT-ConvolutionKernel-000000_photons.hlut in hlutLibrary folder. matRad default HLUT loaded] 
Progress: 100.00 %
Dose influence matrix calculation using  'SVD Pencil Beam' Dose Engine...
Dose grid has dimensions 110x110x54
Adjusting structures for overlap... Done!
Resampling structure set... [Warning: Resizing the cst to the dose grid created an empty structure prostate_bed in scenario 1 (cst{5,4}{1})!] 
Done!
Adjusting structures for overlap... Done!
[Warning: Could not find HLUT Philips-AcQSimCT-ConvolutionKernel-000000_photons.hlut in hlutLibrary folder. matRad default HLUT loaded] 
[Warning: Kernel Cut-Off 'Inf mm' larger than machine data range of '179.500000 mm'. Using '179.500000 mm'!] 
matRad: calculate radiological depth cube... [Warning: ray does not hit patient. Trying to fix afterwards...] 
done.
Progress: 0.10 %	SSD = 869 mm ...
	Uniform primary photon fluence -> pre-compute kernel convolution...
Progress: 4.55 %54.55 %100.00 %
Dose calculation finished in 3.78381 seconds!
Adjusting structures for overlap... Done!
Resampling structure set... [Warning: Resizing the cst to the dose grid created an empty structure prostate_bed in scenario 1 (cst{5,4}{1})!] 
Done!
Estimating initial weights... chosen uniform weight of 2.707165!
Using standard MU bounds of [0,Inf]!

Optimzation initiating...
Press q to terminate the optimization...

******************************************************************************
This program contains Ipopt, a library for large-scale nonlinear optimization.
 Ipopt is released as open source code under the Eclipse Public License (EPL).
         For more information visit http://projects.coin-or.org/Ipopt
******************************************************************************

This is Ipopt version trunk, running with linear solver ma57.

Number of nonzeros in equality constraint Jacobian...:        0
Number of nonzeros in inequality constraint Jacobian.:        0
Number of nonzeros in Lagrangian Hessian.............:        0

Total number of variables............................:       22
                     variables with only lower bounds:       22
                variables with lower and upper bounds:        0
                     variables with only upper bounds:        0
Total number of equality constraints.................:        0
Total number of inequality constraints...............:        0
        inequality constraints with only lower bounds:        0
   inequality constraints with lower and upper bounds:        0
        inequality constraints with only upper bounds:        0

iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
   0  9.1542206e+02 0.00e+00 9.90e+01   0.0 0.00e+00    -  0.00e+00 0.00e+00   0
   1  6.2087451e+02 0.00e+00 5.50e+01  -5.6 7.30e+01    -  1.00e+00 9.18e-03f  3
   2  5.9029904e+02 0.00e+00 7.42e+00  -5.3 1.27e-01    -  9.32e-01 1.00e+00f  1
   3  5.6950609e+02 0.00e+00 7.19e+00  -1.6 7.78e-02    -  9.98e-01 1.00e+00f  1
   4  5.2811792e+02 0.00e+00 1.77e+01  -3.4 2.40e-01    -  1.00e+00 1.00e+00f  1
   5  4.9016210e+02 0.00e+00 1.51e+01  -5.0 2.99e-01    -  1.00e+00 1.00e+00f  1
   6  4.5467466e+02 0.00e+00 6.10e+00  -6.2 4.30e-01    -  1.00e+00 1.00e+00f  1
   7  4.1814600e+02 0.00e+00 6.70e+00  -6.1 6.75e-01    -  1.00e+00 1.00e+00f  1
   8  3.9699760e+02 0.00e+00 9.84e+00  -7.3 5.21e-01    -  1.00e+00 1.00e+00f  1
   9  3.8308258e+02 0.00e+00 1.81e+00  -8.4 7.90e-01    -  1.00e+00 5.24e-01f  1
iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
  10  3.8293166e+02 0.00e+00 1.78e+00  -9.5 3.47e-01    -  1.00e+00 1.19e-02f  1
  11  3.8285696e+02 0.00e+00 1.77e+00 -10.2 2.59e-01    -  1.00e+00 3.84e-03f  1
  12  3.6443477e+02 0.00e+00 1.63e+00 -11.0 4.67e-01    -  1.00e+00 1.00e+00f  1
  13  3.5749694e+02 0.00e+00 3.93e+00  -7.5 2.66e-01    -  7.28e-01 1.00e+00f  1
  14  3.5091433e+02 0.00e+00 1.28e+00  -5.7 4.08e-01    -  2.69e-03 1.00e+00f  1
  15  3.4430253e+02 0.00e+00 1.36e+00  -5.7 3.65e-01    -  1.79e-03 1.00e+00f  1
  16  3.4107703e+02 0.00e+00 8.95e+00  -6.3 1.36e+00    -  1.00e+00 7.47e-01f  1
  17  3.3734904e+02 0.00e+00 2.08e+00  -6.8 2.48e-01    -  1.00e+00 1.00e+00f  1
  18  3.3710695e+02 0.00e+00 4.66e-01  -7.8 3.27e-02    -  1.00e+00 1.00e+00f  1
  19  3.3698981e+02 0.00e+00 2.84e-01  -9.0 3.67e-02    -  1.00e+00 1.00e+00f  1
iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
  20  3.3685445e+02 0.00e+00 5.05e-01  -9.9 3.48e-02    -  1.00e+00 1.00e+00f  1
  21  3.3649247e+02 0.00e+00 5.08e-01 -10.4 7.96e-02    -  1.00e+00 1.00e+00f  1
  22  3.3630129e+02 0.00e+00 1.68e+00 -10.2 2.94e-01    -  1.00e+00 1.00e+00f  1
  23  3.3520172e+02 0.00e+00 1.11e+00 -11.0 1.17e-01    -  1.00e+00 1.00e+00f  1
  24  3.3393233e+02 0.00e+00 7.10e-01 -11.0 9.49e-02    -  1.00e+00 1.00e+00f  1
  25  3.3234425e+02 0.00e+00 6.52e-01 -11.0 1.75e-01    -  1.00e+00 1.00e+00f  1
  26  3.3233624e+02 0.00e+00 5.05e+00 -11.0 5.35e-01    -  1.00e+00 2.50e-01f  3
  27  3.3136257e+02 0.00e+00 7.44e-01 -11.0 7.89e-02    -  1.00e+00 1.00e+00f  1
  28  3.3113310e+02 0.00e+00 7.49e-01 -11.0 3.91e-02    -  1.00e+00 1.00e+00f  1
  29  3.3089296e+02 0.00e+00 1.04e+00 -11.0 6.05e-02    -  1.00e+00 1.00e+00f  1
iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
  30  3.3047709e+02 0.00e+00 1.54e+00 -11.0 1.22e-01    -  1.00e+00 1.00e+00f  1
  31  3.2992568e+02 0.00e+00 1.32e+00 -11.0 2.46e-01    -  1.00e+00 1.00e+00f  1
  32  3.2973192e+02 0.00e+00 1.32e+00 -11.0 3.33e-01    -  1.00e+00 2.76e-01f  1
  33  3.2972575e+02 0.00e+00 1.34e+00 -11.0 2.02e+00    -  1.00e+00 8.61e-04f  1
  34  3.2972572e+02 0.00e+00 1.34e+00 -11.0 7.39e-01    -  1.00e+00 1.25e-05f  1
  35  3.2963362e+02 0.00e+00 1.14e+00  -9.6 1.41e-01    -  1.00e+00 1.30e-01f  1
  36  3.2916111e+02 0.00e+00 1.73e-01 -10.8 1.75e-01    -  1.00e+00 1.00e+00f  1
  37  3.2910814e+02 0.00e+00 1.67e-01 -11.0 1.42e-02    -  1.00e+00 1.00e+00f  1
  38  3.2905572e+02 0.00e+00 2.37e-01 -11.0 5.50e-02    -  1.00e+00 3.36e-01f  1
  39  3.2905522e+02 0.00e+00 2.38e-01 -11.0 1.15e-01    -  1.00e+00 1.61e-03f  1
iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
  40  3.2905521e+02 0.00e+00 2.38e-01 -11.0 7.98e-02    -  1.00e+00 2.32e-05f  1
  41  3.2895857e+02 0.00e+00 1.13e+00  -9.9 7.80e-02    -  1.00e+00 6.66e-01f  1
  42  3.2878050e+02 0.00e+00 5.78e-01 -10.8 8.80e-02    -  1.00e+00 1.00e+00f  1
  43  3.2877473e+02 0.00e+00 5.24e-01 -11.0 4.56e-02    -  1.00e+00 7.98e-02f  1
  44  3.2877467e+02 0.00e+00 5.24e-01 -11.0 4.95e-02    -  1.00e+00 7.22e-04f  1
  45  3.2877466e+02 0.00e+00 5.23e-01 -11.0 1.06e-02    -  1.00e+00 2.77e-04f  1
  46  3.2875292e+02 0.00e+00 1.58e-01 -11.0 1.28e-02    -  1.00e+00 1.00e+00f  1
  47  3.2875066e+02 0.00e+00 1.72e-01 -11.0 2.11e-03    -  1.00e+00 1.00e+00f  1

Number of Iterations....: 47

                                   (scaled)                 (unscaled)
Objective...............:   3.0351742060321339e+01    3.2875065711892046e+02
Dual infeasibility......:   1.7216278100382806e-01    1.8647571290618057e+00
Constraint violation....:   0.0000000000000000e+00    0.0000000000000000e+00
Complementarity.........:   1.0036239114479889e-11    1.0870612294116684e-10
Overall NLP error.......:   1.7216278100382806e-01    1.8647571290618057e+00


Number of objective function evaluations             = 60
Number of objective gradient evaluations             = 48
Number of equality constraint evaluations            = 0
Number of inequality constraint evaluations          = 0
Number of equality constraint Jacobian evaluations   = 0
Number of inequality constraint Jacobian evaluations = 0
Number of Lagrangian Hessian evaluations             = 0
Total CPU secs in IPOPT (w/o function evaluations)   =      1.107
Total CPU secs in NLP function evaluations           =      0.507

EXIT: Solved To Acceptable Level.
load('BOXPHANTOM.mat')
Precomputing Contours for Display...
Progress: 50.00 %100.00 %
matRad: Generating stf struct...
[Warning: Could not find HLUT  in hlutLibrary folder. matRad default HLUT loaded] 
Progress: 100.00 %
Dose influence matrix calculation using  'SVD Pencil Beam' Dose Engine...
Dose grid has dimensions 96x96x96
Adjusting structures for overlap... Done!
Resampling structure set... Done!
Adjusting structures for overlap... Done!
[Warning: Could not find HLUT  in hlutLibrary folder. matRad default HLUT loaded] 
[Warning: Kernel Cut-Off 'Inf mm' larger than machine data range of '179.500000 mm'. Using '179.500000 mm'!] 
matRad: calculate radiological depth cube... [Warning: ray does not hit patient. Trying to fix afterwards...] 
done.
Progress: 0.10 %	SSD = 851 mm ...
	Uniform primary photon fluence -> pre-compute kernel convolution...
Progress: 6.25 %75.00 %100.00 %
Dose calculation finished in 3.30401 seconds!
Adjusting structures for overlap... Done!
Resampling structure set... Done!
Estimating initial weights... chosen uniform weight of 2.196867!
Using standard MU bounds of [0,Inf]!

Optimzation initiating...
Press q to terminate the optimization...

******************************************************************************
This program contains Ipopt, a library for large-scale nonlinear optimization.
 Ipopt is released as open source code under the Eclipse Public License (EPL).
         For more information visit http://projects.coin-or.org/Ipopt
******************************************************************************

This is Ipopt version trunk, running with linear solver ma57.

Number of nonzeros in equality constraint Jacobian...:        0
Number of nonzeros in inequality constraint Jacobian.:        0
Number of nonzeros in Lagrangian Hessian.............:        0

Total number of variables............................:       16
                     variables with only lower bounds:       16
                variables with lower and upper bounds:        0
                     variables with only upper bounds:        0
Total number of equality constraints.................:        0
Total number of inequality constraints...............:        0
        inequality constraints with only lower bounds:        0
   inequality constraints with lower and upper bounds:        0
        inequality constraints with only upper bounds:        0

iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
   0  4.4863397e+02 0.00e+00 6.70e+01   0.0 0.00e+00    -  0.00e+00 0.00e+00   0
   1  4.3093267e+02 0.00e+00 2.51e+02  -5.7 4.67e+01    -  1.00e+00 1.16e-02f  3
   2  3.7708264e+02 0.00e+00 5.12e+01   0.6 3.00e-01    -  9.91e-01 1.00e+00f  1
   3  3.5637271e+02 0.00e+00 3.02e+01  -1.5 1.47e-01    -  1.00e+00 1.00e+00f  1
   4  3.2178975e+02 0.00e+00 8.47e+01  -2.9 3.65e-01    -  1.00e+00 1.00e+00f  1
   5  2.7460829e+02 0.00e+00 1.06e+02  -3.8 5.65e-01    -  1.00e+00 1.00e+00f  1
   6  2.2194690e+02 0.00e+00 8.23e+01  -3.7 1.04e+00    -  1.00e+00 8.48e-01f  1
   7  2.2082714e+02 0.00e+00 8.16e+01  -2.3 7.89e-01    -  1.00e+00 1.15e-02f  1
   8  2.1422557e+02 0.00e+00 7.18e+01  -2.9 5.21e-01    -  1.00e+00 1.40e-01f  1
   9  2.0758479e+02 0.00e+00 5.99e+01  -2.9 6.19e-01    -  9.13e-01 1.43e-01f  1
iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
  10  1.8342957e+02 0.00e+00 1.00e+01  -3.8 6.77e-01    -  1.00e+00 8.58e-01f  1
  11  1.8332005e+02 0.00e+00 8.56e+00  -4.5 1.73e-01    -  1.00e+00 2.12e-02f  1
  12  1.8306250e+02 0.00e+00 1.73e+01  -9.5 1.57e-01    -  9.38e-01 5.14e-02f  1
  13  1.8259178e+02 0.00e+00 2.63e+01  -9.4 4.16e-01    -  7.96e-01 3.74e-02f  1
  14  1.7393434e+02 0.00e+00 7.61e+00  -4.9 1.01e+00    -  1.00e+00 3.55e-01f  1
  15  1.7385289e+02 0.00e+00 7.52e+00  -5.8 7.83e-01    -  1.00e+00 5.27e-03f  1
  16  1.7187132e+02 0.00e+00 1.24e+01  -2.0 3.73e-01    -  3.80e-01 3.35e-01f  1
  17  1.7183634e+02 0.00e+00 1.23e+01  -2.2 2.36e-01    -  1.00e+00 9.76e-03f  1
  18  1.6819305e+02 0.00e+00 1.33e+01  -3.7 3.81e-01    -  1.00e+00 1.00e+00f  1
  19  1.6785555e+02 0.00e+00 6.16e+00  -4.9 4.30e-01    -  1.00e+00 1.08e-01f  1
iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
  20  1.6751062e+02 0.00e+00 1.13e+01  -2.8 2.48e-01    -  1.00e+00 1.83e-01f  1
  21  1.6732477e+02 0.00e+00 3.72e+00  -2.7 1.76e-02    -  1.00e+00 1.00e+00f  1
  22  1.6723605e+02 0.00e+00 2.92e+00  -4.3 2.14e-02    -  1.00e+00 7.63e-01f  1
  23  1.6715913e+02 0.00e+00 2.98e+00  -5.6 3.42e-02    -  1.00e+00 6.79e-01f  1
  24  1.6702715e+02 0.00e+00 5.11e+00  -5.3 7.52e-02    -  1.00e+00 6.70e-01f  1
  25  1.6677306e+02 0.00e+00 7.26e+00  -6.7 1.71e-01    -  1.00e+00 6.32e-01f  1
  26  1.6677009e+02 0.00e+00 7.27e+00  -7.6 2.92e-01    -  1.00e+00 3.88e-03f  1
  27  1.6662549e+02 0.00e+00 9.00e+00  -7.7 4.86e-01    -  1.00e+00 1.01e-01f  1
  28  1.6608686e+02 0.00e+00 6.29e+00  -7.7 5.97e-01    -  1.00e+00 3.35e-01f  1
  29  1.6608240e+02 0.00e+00 6.28e+00  -8.0 6.19e-01    -  1.00e+00 3.18e-03f  1
iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
  30  1.6607673e+02 0.00e+00 6.05e+00 -11.0 9.74e-02    -  6.25e-01 1.45e-02f  1
  31  1.6584362e+02 0.00e+00 4.17e+00  -3.9 1.15e-01    -  1.16e-02 1.00e+00f  1
  32  1.6578774e+02 0.00e+00 4.21e+00  -5.8 6.28e-02    -  1.00e+00 8.12e-01f  1
  33  1.6557902e+02 0.00e+00 2.60e+00  -6.1 2.52e-01    -  1.00e+00 9.80e-01f  1
  34  1.6554020e+02 0.00e+00 2.46e+00  -7.6 2.14e-01    -  1.00e+00 2.54e-01f  1
  35  1.6553988e+02 0.00e+00 2.45e+00  -8.5 2.73e-01    -  1.00e+00 1.97e-03f  1
  36  1.6553932e+02 0.00e+00 2.39e+00  -8.5 1.01e-02    -  1.00e+00 2.69e-02f  1
  37  1.6552363e+02 0.00e+00 4.18e-01  -8.6 1.71e-02    -  1.00e+00 9.93e-01f  1
  38  1.6552247e+02 0.00e+00 3.12e-01 -10.2 3.17e-03    -  1.00e+00 9.88e-01f  1
  39  1.6551198e+02 0.00e+00 9.28e-01 -11.0 3.14e-02    -  1.00e+00 9.51e-01f  1

Number of Iterations....: 39

                                   (scaled)                 (unscaled)
Objective...............:   1.6551197544545619e+02    1.6551197544545619e+02
Dual infeasibility......:   9.2758301825689726e-01    9.2758301825689726e-01
Constraint violation....:   0.0000000000000000e+00    0.0000000000000000e+00
Complementarity.........:   4.2236620602419712e-11    4.2236620602419712e-11
Overall NLP error.......:   9.2758301825689726e-01    9.2758301825689726e-01


Number of objective function evaluations             = 46
Number of objective gradient evaluations             = 40
Number of equality constraint evaluations            = 0
Number of inequality constraint evaluations          = 0
Number of equality constraint Jacobian evaluations   = 0
Number of inequality constraint Jacobian evaluations = 0
Number of Lagrangian Hessian evaluations             = 0
Total CPU secs in IPOPT (w/o function evaluations)   =      1.030
Total CPU secs in NLP function evaluations           =      0.254

EXIT: Solved To Acceptable Level.
[Warning: The matRad_multScen function will be deprecated soon!\nCheck out the new Scenario Models in the scenarios folder.] 
[Warning: Bixel width does not match] 
[Warning: Bixel width does not match] 
matRad: Generating stf struct...
[Warning: Could not find HLUT  in hlutLibrary folder. matRad default HLUT loaded] 
Progress: 100.00 %
Dose influence matrix calculation using  'SVD Pencil Beam' Dose Engine...
Dose grid has dimensions 96x96x96
Adjusting structures for overlap... Done!
Resampling structure set... Done!
Adjusting structures for overlap... Done!
[Warning: Could not find HLUT  in hlutLibrary folder. matRad default HLUT loaded] 
[Warning: Kernel Cut-Off 'Inf mm' larger than machine data range of '179.500000 mm'. Using '179.500000 mm'!] 
matRad: calculate radiological depth cube... done.
Progress: 0.10 %	SSD = 876 mm ...
	Uniform primary photon fluence -> pre-compute kernel convolution...
Progress: 11.11 %100.00 %
Dose calculation finished in 2.67699 seconds!
Adjusting structures for overlap... Done!
Resampling structure set... Done!
Estimating initial weights... chosen uniform weight of 2.329972!
Using standard MU bounds of [0,Inf]!

Optimzation initiating...
Press q to terminate the optimization...

******************************************************************************
This program contains Ipopt, a library for large-scale nonlinear optimization.
 Ipopt is released as open source code under the Eclipse Public License (EPL).
         For more information visit http://projects.coin-or.org/Ipopt
******************************************************************************

This is Ipopt version trunk, running with linear solver ma57.

Number of nonzeros in equality constraint Jacobian...:        0
Number of nonzeros in inequality constraint Jacobian.:        0
Number of nonzeros in Lagrangian Hessian.............:        0

Total number of variables............................:        9
                     variables with only lower bounds:        9
                variables with lower and upper bounds:        0
                     variables with only upper bounds:        0
Total number of equality constraints.................:        0
Total number of inequality constraints...............:        0
        inequality constraints with only lower bounds:        0
   inequality constraints with lower and upper bounds:        0
        inequality constraints with only upper bounds:        0

iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
   0  4.2174990e+02 0.00e+00 7.69e+01   0.0 0.00e+00    -  0.00e+00 0.00e+00   0
   1  4.0057276e+02 0.00e+00 2.40e+02  -5.6 5.45e+01    -  1.00e+00 5.29e-03f  4
   2  3.6919921e+02 0.00e+00 1.24e+02   0.4 1.05e-01    -  9.88e-01 1.00e+00f  1
   3  2.5156137e+02 0.00e+00 1.12e+02  -1.1 5.40e-01    -  1.00e+00 1.00e+00f  1
   4  1.4722275e+02 0.00e+00 1.97e+02  -2.4 8.52e-01    -  1.00e+00 1.00e+00f  1
   5  9.0824386e+01 0.00e+00 7.17e+01  -6.9 7.51e-01    -  1.00e+00 9.36e-01f  1
   6  9.0282061e+01 0.00e+00 6.66e+01  -7.8 1.05e-01    -  1.00e+00 7.98e-02f  1
   7  8.8706831e+01 0.00e+00 4.44e+01  -8.1 6.89e-02    -  1.00e+00 3.29e-01f  1
   8  8.7146047e+01 0.00e+00 7.30e+00  -8.5 5.39e-02    -  1.00e+00 7.06e-01f  1
   9  8.7100778e+01 0.00e+00 7.60e+00  -9.4 2.17e-02    -  1.00e+00 1.11e-01f  1
iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
  10  8.6917420e+01 0.00e+00 3.80e+00  -9.3 4.39e-02    -  1.00e+00 2.74e-01f  1
  11  8.6772673e+01 0.00e+00 1.18e+01 -10.7 4.51e-02    -  1.00e+00 2.57e-01f  1
  12  8.6742850e+01 0.00e+00 4.42e+00  -6.3 9.93e-02    -  1.00e+00 2.52e-02f  1
  13  8.5703043e+01 0.00e+00 2.71e+01  -7.9 1.49e-01    -  1.00e+00 1.00e+00f  1
  14  8.5577224e+01 0.00e+00 2.64e+01  -8.8 5.41e-02    -  1.00e+00 3.26e-01f  1
  15  8.4811219e+01 0.00e+00 3.44e+00  -8.9 1.34e-01    -  1.00e+00 1.00e+00f  1
  16  8.4791594e+01 0.00e+00 9.62e-01  -5.9 1.96e-02    -  9.50e-01 1.00e+00f  1
  17  8.4780661e+01 0.00e+00 2.90e-01  -6.8 2.63e-02    -  1.00e+00 1.00e+00f  1
  18  8.4774237e+01 0.00e+00 3.59e-01  -8.7 2.94e-02    -  1.00e+00 9.31e-01f  1
  19  8.4761055e+01 0.00e+00 9.41e-02  -9.6 8.10e-02    -  1.00e+00 9.83e-01f  1
iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
  20  8.4760938e+01 0.00e+00 9.37e-02 -11.0 2.98e-01    -  1.00e+00 2.67e-03f  1
  21  8.4760933e+01 0.00e+00 4.70e-02 -11.0 2.64e-02    -  1.00e+00 1.94e-03f  1
  22  8.4760447e+01 0.00e+00 1.18e+00 -11.0 2.97e-01    -  1.00e+00 6.01e-02f  1
  23  8.4760430e+01 0.00e+00 1.18e+00 -11.0 5.20e-02    -  1.00e+00 3.44e-03f  1
  24  8.4759748e+01 0.00e+00 3.16e-01  -8.3 1.23e-03    -  1.00e+00 7.38e-01f  1

Number of Iterations....: 24

                                   (scaled)                 (unscaled)
Objective...............:   8.4759747896780041e+01    8.4759747896780041e+01
Dual infeasibility......:   3.1586980300529527e-01    3.1586980300529527e-01
Constraint violation....:   0.0000000000000000e+00    0.0000000000000000e+00
Complementarity.........:   4.3555143256223470e-07    4.3555143256223470e-07
Overall NLP error.......:   3.1586980300529527e-01    3.1586980300529527e-01


Number of objective function evaluations             = 32
Number of objective gradient evaluations             = 25
Number of equality constraint evaluations            = 0
Number of inequality constraint evaluations          = 0
Number of equality constraint Jacobian evaluations   = 0
Number of inequality constraint Jacobian evaluations = 0
Number of Lagrangian Hessian evaluations             = 0
Total CPU secs in IPOPT (w/o function evaluations)   =      0.703
Total CPU secs in NLP function evaluations           =      0.159

EXIT: Solved To Acceptable Level.
[Warning: The matRad_multScen function will be deprecated soon!\nCheck out the new Scenario Models in the scenarios folder.] 
[Warning: Bixel width does not match] 
matRad: Generating stf struct...
[Warning: Could not find HLUT  in hlutLibrary folder. matRad default HLUT loaded] 
Progress: 100.00 %
Dose influence matrix calculation using  'SVD Pencil Beam' Dose Engine...
Dose grid has dimensions 96x96x96
Adjusting structures for overlap... Done!
Resampling structure set... Done!
Adjusting structures for overlap... Done!
[Warning: Could not find HLUT  in hlutLibrary folder. matRad default HLUT loaded] 
[Warning: Kernel Cut-Off 'Inf mm' larger than machine data range of '179.500000 mm'. Using '179.500000 mm'!] 
matRad: calculate radiological depth cube... done.
Progress: 0.10 %	SSD = 876 mm ...
	Uniform primary photon fluence -> pre-compute kernel convolution...
Progress: 11.11 %100.00 %
Dose calculation finished in 4.01058 seconds!
Adjusting structures for overlap... Done!
Resampling structure set... Done!
Estimating initial weights... chosen uniform weight of 2.313724!
Using standard MU bounds of [0,Inf]!

Optimzation initiating...
Press q to terminate the optimization...

******************************************************************************
This program contains Ipopt, a library for large-scale nonlinear optimization.
 Ipopt is released as open source code under the Eclipse Public License (EPL).
         For more information visit http://projects.coin-or.org/Ipopt
******************************************************************************

This is Ipopt version trunk, running with linear solver ma57.

Number of nonzeros in equality constraint Jacobian...:        0
Number of nonzeros in inequality constraint Jacobian.:        0
Number of nonzeros in Lagrangian Hessian.............:        0

Total number of variables............................:        9
                     variables with only lower bounds:        9
                variables with lower and upper bounds:        0
                     variables with only upper bounds:        0
Total number of equality constraints.................:        0
Total number of inequality constraints...............:        0
        inequality constraints with only lower bounds:        0
   inequality constraints with lower and upper bounds:        0
        inequality constraints with only upper bounds:        0

iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
   0  4.3856941e+02 0.00e+00 9.90e+01   0.0 0.00e+00    -  0.00e+00 0.00e+00   0
   1  4.2195662e+02 0.00e+00 2.22e+02  -5.6 6.98e+01    -  1.00e+00 4.10e-03f  4
   2  3.9817803e+02 0.00e+00 9.14e+01   0.4 1.07e-01    -  9.78e-01 1.00e+00f  1
   3  3.3955792e+02 0.00e+00 6.70e+01  -1.1 2.63e-01    -  1.00e+00 1.00e+00f  1
   4  2.4336551e+02 0.00e+00 2.11e+02  -2.6 6.92e-01    -  1.00e+00 1.00e+00f  1
   5  1.4999607e+02 0.00e+00 2.00e+02  -3.3 9.85e-01    -  1.00e+00 1.00e+00f  1
   6  1.1643764e+02 0.00e+00 5.36e+01  -7.9 5.46e-01    -  1.00e+00 5.94e-01f  1
   7  1.1624443e+02 0.00e+00 5.22e+01  -8.7 1.90e-01    -  1.00e+00 2.00e-02f  1
   8  1.1416830e+02 0.00e+00 3.07e+01  -8.4 1.56e-01    -  1.00e+00 2.91e-01f  1
   9  1.1296648e+02 0.00e+00 1.65e+01  -8.7 1.55e-01    -  1.00e+00 2.40e-01f  1
iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
  10  1.1185652e+02 0.00e+00 9.20e+00  -2.3 1.40e-01    -  5.68e-01 3.42e-01f  1
  11  1.1161815e+02 0.00e+00 9.64e+00  -3.8 1.83e-01    -  1.00e+00 6.77e-02f  1
  12  1.0969038e+02 0.00e+00 1.90e+01  -4.9 2.71e-01    -  1.00e+00 4.74e-01f  1
  13  1.0968266e+02 0.00e+00 1.91e+01  -5.7 2.38e-01    -  1.00e+00 2.53e-03f  1
  14  1.0667783e+02 0.00e+00 4.24e+00  -5.9 3.78e-01    -  1.00e+00 1.00e+00f  1
  15  1.0661236e+02 0.00e+00 9.10e-01  -6.7 4.65e-02    -  1.00e+00 1.00e+00f  1
  16  1.0652603e+02 0.00e+00 3.22e+00  -6.6 1.03e-01    -  1.00e+00 7.76e-01f  1
  17  1.0652517e+02 0.00e+00 3.23e+00  -8.2 8.16e-01    -  1.00e+00 9.82e-04f  1
  18  1.0651809e+02 0.00e+00 1.59e+00  -5.1 3.25e-03    -  1.00e+00 1.00e+00f  1
  19  1.0651561e+02 0.00e+00 9.41e-01  -7.1 8.53e-03    -  1.00e+00 2.15e-01f  1
iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
  20  1.0651554e+02 0.00e+00 9.12e-01  -7.2 1.45e-03    -  1.00e+00 4.92e-02f  1
  21  1.0651362e+02 0.00e+00 4.02e-01  -7.4 5.60e-03    -  1.00e+00 4.52e-01f  1

Number of Iterations....: 21

                                   (scaled)                 (unscaled)
Objective...............:   1.0085149890510020e+02    1.0651361773490548e+02
Dual infeasibility......:   4.0212576683776391e-01    4.2470236610580758e-01
Constraint violation....:   0.0000000000000000e+00    0.0000000000000000e+00
Complementarity.........:   5.1339860402581668e-06    5.4222240867532112e-06
Overall NLP error.......:   4.0212576683776391e-01    4.2470236610580758e-01


Number of objective function evaluations             = 29
Number of objective gradient evaluations             = 22
Number of equality constraint evaluations            = 0
Number of inequality constraint evaluations          = 0
Number of equality constraint Jacobian evaluations   = 0
Number of inequality constraint Jacobian evaluations = 0
Number of Lagrangian Hessian evaluations             = 0
Total CPU secs in IPOPT (w/o function evaluations)   =      1.579
Total CPU secs in NLP function evaluations           =      0.139

EXIT: Solved To Acceptable Level.
try open('matRad_generateStf'); catch edit('matRad_generateStf'); end
<a href="matlab: opentoline('D:\GitHub\matRad_Lucas\matRad_generateStf.m',33,1)">33  </a>matRad_cfg = MatRad_Config.instance();
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
matRad: Generating stf struct...
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
addmarginBool = false

addmarginBool =

  <a href="matlab:helpPopup logical" style="font-weight:bold">logical</a>

   0

if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
addmarginBool

addmarginBool =

  <a href="matlab:helpPopup logical" style="font-weight:bold">logical</a>

   1

if system_dependent('IsDebugMode')==1, dbstep; end
addmarginBool = false

addmarginBool =

  <a href="matlab:helpPopup logical" style="font-weight:bold">logical</a>

   0

if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
[Warning: Could not find HLUT  in hlutLibrary folder. matRad default HLUT loaded] 
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbstep; end
if system_dependent('IsDebugMode')==1, dbcont; end
Progress: 100.00 %
Dose influence matrix calculation using  'SVD Pencil Beam' Dose Engine...
Dose grid has dimensions 96x96x96
Adjusting structures for overlap... Done!
Resampling structure set... Done!
Adjusting structures for overlap... Done!
[Warning: Could not find HLUT  in hlutLibrary folder. matRad default HLUT loaded] 
[Warning: Kernel Cut-Off 'Inf mm' larger than machine data range of '179.500000 mm'. Using '179.500000 mm'!] 
matRad: calculate radiological depth cube... done.
Progress: 0.10 %	SSD = 876 mm ...
	Uniform primary photon fluence -> pre-compute kernel convolution...
Progress: 100.00 %
Dose calculation finished in 1.91888 seconds!
Adjusting structures for overlap... Done!
Resampling structure set... Done!
Estimating initial weights... chosen uniform weight of 2.546209!
Using standard MU bounds of [0,Inf]!

Optimzation initiating...
Press q to terminate the optimization...

******************************************************************************
This program contains Ipopt, a library for large-scale nonlinear optimization.
 Ipopt is released as open source code under the Eclipse Public License (EPL).
         For more information visit http://projects.coin-or.org/Ipopt
******************************************************************************

This is Ipopt version trunk, running with linear solver ma57.

Number of nonzeros in equality constraint Jacobian...:        0
Number of nonzeros in inequality constraint Jacobian.:        0
Number of nonzeros in Lagrangian Hessian.............:        0

Total number of variables............................:        1
                     variables with only lower bounds:        1
                variables with lower and upper bounds:        0
                     variables with only upper bounds:        0
Total number of equality constraints.................:        0
Total number of inequality constraints...............:        0
        inequality constraints with only lower bounds:        0
   inequality constraints with lower and upper bounds:        0
        inequality constraints with only upper bounds:        0

iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
   0  1.1067845e+02 0.00e+00 9.15e+01   0.0 0.00e+00    -  0.00e+00 0.00e+00   0
   1  1.0884560e+02 0.00e+00 9.53e+01  -5.6 6.64e+01    -  1.00e+00 2.37e-03f  5
   2  1.0651297e+02 0.00e+00 1.10e-01   0.3 6.76e-02    -  9.96e-01 1.00e+00f  1
   3  1.0651296e+02 0.00e+00 4.93e-04  -2.3 1.45e-04    -  9.98e-01 1.00e+00f  1
   4  1.0651296e+02 0.00e+00 1.67e-05  -8.2 2.06e-06    -  9.94e-01 1.00e+00f  1
   5  1.0651296e+02 0.00e+00 6.68e-10 -10.4 4.66e-12    -  1.00e+00 1.00e+00f  1
   6  1.0651296e+02 0.00e+00 3.41e-14  -8.9 5.17e-13    -  1.00e+00 1.00e+00f  1
   7  1.0651296e+02 0.00e+00 8.01e-14 -11.0 5.30e-13    -  1.00e+00 1.00e+00f  1

Number of Iterations....: 7

                                   (scaled)                 (unscaled)
Objective...............:   1.0651295916759915e+02    1.0651295916759915e+02
Dual infeasibility......:   8.0129659420815111e-14    8.0129659420815111e-14
Constraint violation....:   0.0000000000000000e+00    0.0000000000000000e+00
Complementarity.........:   9.0909090911974694e-12    9.0909090911974694e-12
Overall NLP error.......:   9.0909090911974694e-12    9.0909090911974694e-12


Number of objective function evaluations             = 16
Number of objective gradient evaluations             = 8
Number of equality constraint evaluations            = 0
Number of inequality constraint evaluations          = 0
Number of equality constraint Jacobian evaluations   = 0
Number of inequality constraint Jacobian evaluations = 0
Number of Lagrangian Hessian evaluations             = 0
Total CPU secs in IPOPT (w/o function evaluations)   =      0.882
Total CPU secs in NLP function evaluations           =      0.240

EXIT: Optimal Solution Found.
clear
load('BOXPHANTOM.mat')
[Warning: The matRad_multScen function will be deprecated soon!\nCheck out the new Scenario Models in the scenarios folder.] 
Precomputing Contours for Display...
Progress: 50.00 %100.00 %
[Warning: The matRad_multScen function will be deprecated soon!\nCheck out the new Scenario Models in the scenarios folder.] 
[Warning: The matRad_multScen function will be deprecated soon!\nCheck out the new Scenario Models in the scenarios folder.] 
{Error using <a href="matlab:matlab.internal.language.introspective.errorDocCallback('matRad_loadMachine')" style="font-weight:bold">matRad_loadMachine</a>
Could not find the following machine file: neutrons_Generic


Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('getAvailableEngines', 'getAvailableEngines.m', 45)" style="font-weight:bold">getAvailableEngines</a> (<a href="matlab: opentoline('getAvailableEngines.m',45,0)">line 45</a>)

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('matRad_PlanWidget/popupRadMode_Callback', 'matRad_PlanWidget.m', 1113)" style="font-weight:bold">matRad_PlanWidget/popupRadMode_Callback</a> (<a href="matlab: opentoline('matRad_PlanWidget.m',1113,0)">line 1113</a>)

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('matRad_PlanWidget>@(hObject,eventdata)popupRadMode_Callback(this,hObject,eventdata)', 'matRad_PlanWidget.m', 192)" style="font-weight:bold">matRad_PlanWidget>@(hObject,eventdata)popupRadMode_Callback(this,hObject,eventdata)</a> (<a href="matlab: opentoline('matRad_PlanWidget.m',192,0)">line 192</a>)
} 
Error while evaluating UIControl Callback.

{Error using <a href="matlab:matlab.internal.language.introspective.errorDocCallback('matRad_loadMachine')" style="font-weight:bold">matRad_loadMachine</a>
Could not find the following machine file: neutrons_Generic


Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('getAvailableEngines', 'getAvailableEngines.m', 45)" style="font-weight:bold">getAvailableEngines</a> (<a href="matlab: opentoline('getAvailableEngines.m',45,0)">line 45</a>)

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('matRad_PlanWidget/popupRadMode_Callback', 'matRad_PlanWidget.m', 1113)" style="font-weight:bold">matRad_PlanWidget/popupRadMode_Callback</a> (<a href="matlab: opentoline('matRad_PlanWidget.m',1113,0)">line 1113</a>)

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('matRad_PlanWidget>@(hObject,eventdata)popupRadMode_Callback(this,hObject,eventdata)', 'matRad_PlanWidget.m', 192)" style="font-weight:bold">matRad_PlanWidget>@(hObject,eventdata)popupRadMode_Callback(this,hObject,eventdata)</a> (<a href="matlab: opentoline('matRad_PlanWidget.m',192,0)">line 192</a>)
} 
Error while evaluating UIControl Callback.

[Warning: No base data available for machine: Generic. Selecting default machine.] 
[Warning: No base data available for machine: Generic. Selecting default machine.] 
[Warning: The matRad_multScen function will be deprecated soon!\nCheck out the new Scenario Models in the scenarios folder.] 
[Warning: The matRad_multScen function will be deprecated soon!\nCheck out the new Scenario Models in the scenarios folder.] 
<a href="matlab: opentoline('D:\GitHub\matRad_Lucas\matRad_generateStf.m',33,1)">33  </a>matRad_cfg = MatRad_Config.instance();
if system_dependent('IsDebugMode')==1, dbcont; end
matRad: Generating stf struct...
addmarginBool = false

addmarginBool =

  <a href="matlab:helpPopup logical" style="font-weight:bold">logical</a>

   0

if system_dependent('IsDebugMode')==1, dbcont; end
[Warning: Could not find HLUT  in hlutLibrary folder. matRad default HLUT loaded] 
No book keeping for neutron energies.Progress: 100.00 %
Dose influence matrix calculation using  'MCNP' Dose Engine...
Dose grid has dimensions 96x96x96
Adjusting structures for overlap... Done!
Resampling structure set... Done!
Adjusting structures for overlap... Done!
Resampling structure set... Done!
